<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agent Launch UI</title>
    <style>
      :root {
        --bg-1: #0f172a;
        --bg-2: #1e293b;
        --card: rgba(15, 23, 42, 0.75);
        --text: #e2e8f0;
        --primary: #38bdf8;
        --accent: #f472b6;
      }

      * { box-sizing: border-box; }

      body {
        margin: 0;
        min-height: 100vh;
        display: grid;
        place-items: center;
        font-family: "Noto Sans TC", "Microsoft JhengHei", sans-serif;
        color: var(--text);
        background: radial-gradient(circle at top right, #334155, var(--bg-1) 45%),
          linear-gradient(135deg, var(--bg-1), var(--bg-2));
      }

      .panel {
        width: min(920px, 92vw);
        min-height: 540px;
        padding: 2rem;
        border-radius: 24px;
        background: var(--card);
        border: 1px solid rgba(148, 163, 184, 0.25);
        backdrop-filter: blur(10px);
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
      }

      .content h1 {
        margin: 0;
        font-size: clamp(1.6rem, 3vw, 2.2rem);
      }

      .content p {
        line-height: 1.7;
        color: #cbd5e1;
        margin: 1rem 0 1.5rem;
      }

      .start-btn {
        border: 0;
        border-radius: 999px;
        font-size: 1.05rem;
        font-weight: 700;
        letter-spacing: 0.02em;
        padding: 0.85rem 1.8rem;
        cursor: pointer;
        color: #0f172a;
        background: linear-gradient(135deg, var(--primary), #22d3ee);
        box-shadow: 0 12px 22px rgba(34, 211, 238, 0.35);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .start-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 16px 26px rgba(34, 211, 238, 0.45);
      }

      .stage {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: flex-end;
      }

      .assistant {
        position: relative;
        width: 190px;
        height: 420px;
        transform-origin: bottom center;
        animation: sway 2.8s ease-in-out infinite;
      }

      .shadow {
        position: absolute;
        width: 190px;
        height: 26px;
        border-radius: 50%;
        background: rgba(15, 23, 42, 0.55);
        bottom: 4px;
        filter: blur(2px);
        animation: shadowPulse 2.8s ease-in-out infinite;
      }

      .head {
        position: absolute;
        width: 74px;
        height: 74px;
        left: 58px;
        top: 24px;
        border-radius: 50%;
        background: #f8c8b9;
        z-index: 4;
      }

      .hair {
        position: absolute;
        width: 92px;
        height: 108px;
        left: 49px;
        top: 14px;
        border-radius: 46px 46px 34px 34px;
        background: #1f2937;
        z-index: 3;
      }

      .body {
        position: absolute;
        width: 110px;
        height: 168px;
        left: 40px;
        top: 96px;
        border-radius: 26px 26px 20px 20px;
        background: linear-gradient(180deg, #f472b6, #ec4899);
        z-index: 2;
      }

      .arms,
      .legs {
        position: absolute;
        width: 100%;
        height: 100%;
        pointer-events: none;
      }

      .arm {
        position: absolute;
        width: 24px;
        height: 110px;
        top: 112px;
        border-radius: 16px;
        background: #f8c8b9;
        transform-origin: top center;
      }

      .arm.left {
        left: 20px;
        animation: armWave 2.8s ease-in-out infinite;
      }

      .arm.right {
        right: 20px;
        animation: armWave 2.8s ease-in-out infinite reverse;
      }

      .leg {
        position: absolute;
        width: 30px;
        height: 150px;
        bottom: 10px;
        border-radius: 16px;
        background: #0f172a;
        transform-origin: top center;
      }

      .leg.left {
        left: 56px;
        animation: step 1.3s ease-in-out infinite;
      }

      .leg.right {
        right: 56px;
        animation: step 1.3s ease-in-out infinite reverse;
      }

      .shoe {
        position: absolute;
        width: 42px;
        height: 16px;
        bottom: -8px;
        border-radius: 12px;
        background: #111827;
      }

      .leg.left .shoe { left: -6px; }
      .leg.right .shoe { right: -6px; }

      .status {
        margin-top: 1rem;
        font-size: 0.95rem;
        color: #a5f3fc;
        min-height: 1.2em;
      }

      .monitor {
        margin-top: 1.4rem;
        display: grid;
        gap: 0.8rem;
      }

      .tabs {
        display: flex;
        gap: 0.6rem;
      }

      .tab-btn {
        border: 1px solid rgba(148, 163, 184, 0.35);
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.65);
        color: #cbd5e1;
        padding: 0.38rem 0.9rem;
        font-size: 0.85rem;
        cursor: pointer;
      }

      .tab-btn.active {
        color: #082f49;
        border-color: transparent;
        background: linear-gradient(135deg, #67e8f9, #22d3ee);
      }

      .pane {
        display: none;
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 14px;
        background: rgba(15, 23, 42, 0.6);
        padding: 0.95rem;
      }

      .pane.active { display: block; }

      .metric-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.55rem;
      }

      .metric {
        border-radius: 10px;
        background: rgba(30, 41, 59, 0.8);
        border: 1px solid rgba(148, 163, 184, 0.15);
        padding: 0.55rem 0.65rem;
      }

      .metric .label {
        font-size: 0.75rem;
        color: #94a3b8;
      }

      .metric .value {
        margin-top: 0.2rem;
        font-size: 0.95rem;
        font-weight: 700;
        color: #e2e8f0;
      }

      .control-row {
        margin-top: 0.7rem;
        display: flex;
        gap: 0.55rem;
      }

      .ctrl-btn {
        border: 1px solid rgba(125, 211, 252, 0.45);
        background: rgba(15, 23, 42, 0.8);
        color: #bae6fd;
        border-radius: 8px;
        padding: 0.45rem 0.72rem;
        font-size: 0.78rem;
        cursor: pointer;
      }

      .console-log {
        margin: 0;
        max-height: 175px;
        overflow: auto;
        font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
        font-size: 0.76rem;
        line-height: 1.45;
        color: #bfdbfe;
        white-space: pre-wrap;
      }

      @keyframes sway {
        0%, 100% { transform: translateY(0) rotate(-1deg); }
        50% { transform: translateY(-4px) rotate(1deg); }
      }

      @keyframes armWave {
        0%, 100% { transform: rotate(8deg); }
        50% { transform: rotate(-16deg); }
      }

      @keyframes step {
        0%, 100% { transform: rotate(7deg); }
        50% { transform: rotate(-8deg); }
      }

      @keyframes shadowPulse {
        0%, 100% { transform: scaleX(1); opacity: 0.48; }
        50% { transform: scaleX(0.86); opacity: 0.3; }
      }

      @media (max-width: 760px) {
        .panel { grid-template-columns: 1fr; }
      }
    </style>
  </head>
  <body>
    <main class="panel">
      <section class="content">
        <h1>Agent 啟動面板</h1>
        <p>
          歡迎使用 Agent 控制台。按下按鈕後，系統會初始化流程並開始執行任務。
        </p>
        <button id="startAgent" class="start-btn" type="button">Start Agent</button>
        <p id="status" class="status" aria-live="polite"></p>

        <section class="monitor" aria-label="Agent dashboard 與 console">
          <div class="tabs" role="tablist" aria-label="監控頁籤">
            <button class="tab-btn active" data-tab="dashboard" type="button" role="tab" aria-selected="true">Dashboard</button>
            <button class="tab-btn" data-tab="console" type="button" role="tab" aria-selected="false">Console</button>
          </div>

          <section id="dashboardPane" class="pane active" role="tabpanel" aria-label="dashboard">
            <div class="metric-grid">
              <article class="metric">
                <div class="label">助手狀態</div>
                <div id="assistantStatus" class="value">Idle</div>
              </article>
              <article class="metric">
                <div class="label">執行狀態</div>
                <div id="executionStatus" class="value">未執行</div>
              </article>
              <article class="metric">
                <div class="label">進度</div>
                <div id="taskProgress" class="value">0%</div>
              </article>
              <article class="metric">
                <div class="label">最後更新</div>
                <div id="lastUpdated" class="value">--:--:--</div>
              </article>
            </div>
            <div class="control-row">
              <button id="pauseAgent" class="ctrl-btn" type="button">暫停任務</button>
              <button id="resumeAgent" class="ctrl-btn" type="button">恢復任務</button>
              <button id="clearConsole" class="ctrl-btn" type="button">清除 Console</button>
            </div>
          </section>

          <section id="consolePane" class="pane" role="tabpanel" aria-label="console">
            <pre id="consoleLog" class="console-log">[system] 等待啟動指令...</pre>
          </section>
        </section>
      </section>

      <section class="stage" aria-label="秘書角色動畫">
        <div class="assistant" role="img" aria-label="正妹秘書風格全身動畫角色">
          <div class="hair"></div>
          <div class="head"></div>
          <div class="body"></div>
          <div class="arms">
            <div class="arm left"></div>
            <div class="arm right"></div>
          </div>
          <div class="legs">
            <div class="leg left"><span class="shoe"></span></div>
            <div class="leg right"><span class="shoe"></span></div>
          </div>
        </div>
        <div class="shadow"></div>
      </section>
    </main>

    <script>
      const button = document.getElementById('startAgent');
      const status = document.getElementById('status');
      const assistantStatus = document.getElementById('assistantStatus');
      const executionStatus = document.getElementById('executionStatus');
      const taskProgress = document.getElementById('taskProgress');
      const lastUpdated = document.getElementById('lastUpdated');
      const consoleLog = document.getElementById('consoleLog');
      const pauseBtn = document.getElementById('pauseAgent');
      const resumeBtn = document.getElementById('resumeAgent');
      const clearConsoleBtn = document.getElementById('clearConsole');

      const tabButtons = document.querySelectorAll('.tab-btn');
      const tabPanes = {
        dashboard: document.getElementById('dashboardPane'),
        console: document.getElementById('consolePane')
      };

      const setTime = () => {
        lastUpdated.textContent = new Date().toLocaleTimeString('zh-Hant-TW', { hour12: false });
      };

      const appendLog = (text) => {
        consoleLog.textContent += `\n${text}`;
        consoleLog.scrollTop = consoleLog.scrollHeight;
      };

      tabButtons.forEach((tab) => {
        tab.addEventListener('click', () => {
          const target = tab.dataset.tab;
          tabButtons.forEach((item) => {
            item.classList.toggle('active', item === tab);
            item.setAttribute('aria-selected', String(item === tab));
          });

          Object.entries(tabPanes).forEach(([key, pane]) => {
            pane.classList.toggle('active', key === target);
          });
        });
      });

      button.addEventListener('click', () => {
        status.textContent = 'Agent 啟動中...';
        button.disabled = true;
        assistantStatus.textContent = 'Initializing';
        executionStatus.textContent = '準備中';
        taskProgress.textContent = '15%';
        setTime();
        appendLog('[boot] 初始化 Agent worker');

        setTimeout(() => {
          status.textContent = 'Agent 已啟動，秘書待命中。';
          button.disabled = false;
          assistantStatus.textContent = 'Ready';
          executionStatus.textContent = '執行中';
          taskProgress.textContent = '68%';
          setTime();
          appendLog('[task] 任務佇列已開始處理');
        }, 1200);
      });

      pauseBtn.addEventListener('click', () => {
        executionStatus.textContent = '已暫停';
        setTime();
        appendLog('[control] 使用者暫停任務');
      });

      resumeBtn.addEventListener('click', () => {
        executionStatus.textContent = '執行中';
        taskProgress.textContent = '82%';
        setTime();
        appendLog('[control] 使用者恢復任務');
      });

      clearConsoleBtn.addEventListener('click', () => {
        consoleLog.textContent = '[system] console 已清空';
        setTime();
      });
    </script>
  </body>
</html>

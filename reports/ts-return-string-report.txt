npm warn Unknown env config "http-proxy". This will stop working in the next major version of npm.

> anythingllmskills@1.0.0 check:ts-return-string
> node scripts/check-ts-return-string.mjs

Scanned files: 67
Non-string return signatures: 221
gateway/connectors/discord/connector.ts:16:5 sendReply -> Promise<string>
gateway/connectors/line/connector.ts:85:5 sendReply -> Promise<string>
gateway/connectors/slack/connector.ts:16:5 sendReply -> Promise<string>
gateway/connectors/telegram/connector.ts:76:5 sendReply -> Promise<string>
gateway/core/__tests__/agents_registry.test.ts:4:62 <anonymous> -> Promise<string>
gateway/core/__tests__/approvals_store.test.ts:29:58 <anonymous> -> Promise<string>
gateway/core/__tests__/approvals_store.test.ts:46:61 <anonymous> -> Promise<string>
gateway/core/__tests__/job_runner.test.ts:5:44 <anonymous> -> Promise<string>
gateway/core/__tests__/job_runner.test.ts:15:76 <anonymous> -> Promise<string>
gateway/core/__tests__/lifecycle.test.ts:12:58 <anonymous> -> Promise<string>
gateway/core/__tests__/lifecycle.test.ts:16:23 <anonymous> -> Timeout
gateway/core/__tests__/lifecycle.test.ts:37:53 <anonymous> -> Promise<string>
gateway/core/__tests__/lifecycle.test.ts:39:23 <anonymous> -> Timeout
gateway/core/__tests__/memory_evolution.test.ts:7:76 <anonymous> -> Promise<string>
gateway/core/__tests__/router.test.ts:22:9 propose -> Promise<ToolProposal>
gateway/core/__tests__/router.test.ts:33:9 summarize -> Promise<string>
gateway/core/__tests__/router.test.ts:38:63 <anonymous> -> Promise<string>
gateway/core/__tests__/router.test.ts:53:52 <anonymous> -> Promise<string>
gateway/core/__tests__/router.test.ts:60:62 <anonymous> -> Promise<string>
gateway/core/__tests__/router.test.ts:67:62 <anonymous> -> Promise<string>
gateway/core/__tests__/router.test.ts:74:67 <anonymous> -> Promise<string>
gateway/core/__tests__/router.test.ts:81:52 <anonymous> -> Promise<string>
gateway/core/__tests__/router.test.ts:90:46 <anonymous> -> Promise<string>
gateway/core/__tests__/task_queue.test.ts:4:59 <anonymous> -> Promise<string>
gateway/core/__tests__/task_queue.test.ts:14:85 <anonymous> -> Promise<string>
gateway/core/__tests__/task_queue.test.ts:30:55 <anonymous> -> Promise<string>
gateway/core/__tests__/task_queue.test.ts:47:42 <anonymous> -> Promise<string>
gateway/core/agent_messaging.ts:52:36 <anonymous> -> boolean
gateway/core/agent_messaging.ts:62:28 <anonymous> -> boolean
gateway/core/agent_messaging.ts:72:54 <anonymous> -> boolean
gateway/core/agents_registry.ts:25:25 <anonymous> -> any
gateway/core/agents_registry.ts:25:42 <anonymous> -> any
gateway/core/agents_registry.ts:28:1 ensureDbPath -> Promise<string>
gateway/core/agents_registry.ts:32:1 readDb -> Promise<string>
gateway/core/agents_registry.ts:47:1 writeDb -> Promise<string>
gateway/core/agents_registry.ts:60:1 ensurePrimaryAgent -> Promise<string>
gateway/core/agents_registry.ts:61:28 <anonymous> -> Promise<any>
gateway/core/agents_registry.ts:63:48 <anonymous> -> any
gateway/core/agents_registry.ts:85:1 listAgents -> Promise<string>
gateway/core/agents_registry.ts:86:28 <anonymous> -> Promise<any[]>
gateway/core/agents_registry.ts:88:36 <anonymous> -> any
gateway/core/agents_registry.ts:95:1 getAgentById -> Promise<string>
gateway/core/agents_registry.ts:96:28 <anonymous> -> Promise<any>
gateway/core/agents_registry.ts:98:31 <anonymous> -> boolean
gateway/core/agents_registry.ts:101:1 createAgent -> Promise<string>
gateway/core/agents_registry.ts:107:28 <anonymous> -> Promise<AgentProfile>
gateway/core/agents_registry.ts:111:45 <anonymous> -> any
gateway/core/agents_registry.ts:135:1 updateAgent -> Promise<string>
gateway/core/agents_registry.ts:136:28 <anonymous> -> Promise<any>
gateway/core/agents_registry.ts:138:39 <anonymous> -> boolean
gateway/core/agents_registry.ts:152:1 resetAgentsForTest -> Promise<string>
gateway/core/agents_registry.ts:153:28 <anonymous> -> Promise<void>
gateway/core/anythingllm_client.ts:33:5 propose -> Promise<string>
gateway/core/anythingllm_client.ts:64:5 summarize -> Promise<string>
gateway/core/anythingllm_client.ts:73:5 chat -> Promise<string>
gateway/core/anythingllm_client.ts:129:31 <anonymous> -> Timeout
gateway/core/approvals_store.ts:35:1 withLock -> Promise<string>
gateway/core/approvals_store.ts:37:25 <anonymous> -> any
gateway/core/approvals_store.ts:37:42 <anonymous> -> any
gateway/core/approvals_store.ts:40:1 ensureDbPath -> Promise<string>
gateway/core/approvals_store.ts:44:1 readDb -> Promise<string>
gateway/core/approvals_store.ts:59:1 writeDb -> Promise<string>
gateway/core/approvals_store.ts:84:1 createPendingAction -> Promise<string>
gateway/core/approvals_store.ts:95:28 <anonymous> -> Promise<PendingAction>
gateway/core/approvals_store.ts:124:1 listPendingActions -> Promise<string>
gateway/core/approvals_store.ts:129:28 <anonymous> -> Promise<any>
gateway/core/approvals_store.ts:143:32 <anonymous> -> boolean
gateway/core/approvals_store.ts:145:32 <anonymous> -> boolean
gateway/core/approvals_store.ts:146:31 <anonymous> -> any
gateway/core/approvals_store.ts:152:1 getPendingActionById -> Promise<string>
gateway/core/approvals_store.ts:153:28 <anonymous> -> Promise<string>
gateway/core/approvals_store.ts:155:38 <anonymous> -> boolean
gateway/core/approvals_store.ts:166:1 consumeConfirmToken -> Promise<string>
gateway/core/approvals_store.ts:167:28 <anonymous> -> Promise<any>
gateway/core/approvals_store.ts:170:38 <anonymous> -> boolean
gateway/core/approvals_store.ts:195:1 decidePendingAction -> Promise<string>
gateway/core/approvals_store.ts:196:28 <anonymous> -> Promise<any>
gateway/core/approvals_store.ts:198:38 <anonymous> -> boolean
gateway/core/approvals_store.ts:221:1 markPendingActionExecuted -> Promise<string>
gateway/core/approvals_store.ts:222:28 <anonymous> -> Promise<any>
gateway/core/approvals_store.ts:224:38 <anonymous> -> boolean
gateway/core/approvals_store.ts:242:1 expireStalePendingActions -> Promise<string>
gateway/core/approvals_store.ts:243:28 <anonymous> -> Promise<number>
gateway/core/approvals_store.ts:259:1 resetPendingActionsDbForTest -> Promise<string>
gateway/core/approvals_store.ts:260:20 <anonymous> -> Promise<void>
gateway/core/audit/persistence.ts:13:34 <anonymous> -> boolean
gateway/core/autonomy_hooks.ts:20:42 <anonymous> -> Promise<void>
gateway/core/autonomy_hooks.ts:22:64 <anonymous> -> any
gateway/core/autonomy_hooks.ts:37:47 <anonymous> -> Promise<void>
gateway/core/autonomy_hooks.ts:45:45 <anonymous> -> Promise<void>
gateway/core/autonomy_hooks.ts:53:42 <anonymous> -> Promise<void>
gateway/core/lifecycle.ts:70:1 runHeartbeatHooks -> Promise<string>
gateway/core/memory/evolution.ts:20:1 ensureLearningFile -> Promise<string>
gateway/core/memory/evolution.ts:30:1 appendLearningMarkdown -> Promise<string>
gateway/core/memory/evolution.ts:49:31 <anonymous> -> void
gateway/core/memory/evolution.ts:53:36 <anonymous> -> void
gateway/core/memory/evolution.ts:59:33 <anonymous> -> void
gateway/core/memory/evolution.ts:60:33 <anonymous> -> void
gateway/core/memory/evolution.ts:61:27 <anonymous> -> void
gateway/core/memory/evolution.ts:74:27 <anonymous> -> void
gateway/core/memory/evolution.ts:82:1 upsertLanceDb -> Promise<string>
gateway/core/memory/evolution.ts:101:1 recordLearning -> Promise<string>
gateway/core/memory/evolution.ts:117:1 searchLearning -> Promise<string>
gateway/core/middleware/auth.ts:12:19 <anonymous> -> AuthResult
gateway/core/middleware/rate_limit.ts:41:52 <anonymous> -> boolean
gateway/core/middleware/rate_limit.ts:53:56 <anonymous> -> boolean
gateway/core/ollama_client.ts:24:5 generate -> Promise<string>
gateway/core/ollama_client.ts:33:38 <anonymous> -> void
gateway/core/ollama_client.ts:77:31 <anonymous> -> Timeout
gateway/core/policy/intent.ts:22:33 <anonymous> -> boolean
gateway/core/policy/roles.ts:9:30 <anonymous> -> boolean
gateway/core/router.ts:14:1 routeEvent -> Promise<string>
gateway/core/router.ts:127:1 executeApprovedAction -> Promise<string>
gateway/core/router.ts:144:1 executeProposal -> Promise<string>
gateway/core/tasks/store.ts:46:1 withLock -> Promise<string>
gateway/core/tasks/store.ts:48:25 <anonymous> -> any
gateway/core/tasks/store.ts:48:42 <anonymous> -> any
gateway/core/tasks/store.ts:51:1 ensureDbPath -> Promise<string>
gateway/core/tasks/store.ts:55:1 readDb -> Promise<string>
gateway/core/tasks/store.ts:70:1 writeDb -> Promise<string>
gateway/core/tasks/store.ts:87:1 enqueueTask -> Promise<string>
gateway/core/tasks/store.ts:88:28 <anonymous> -> Promise<any>
gateway/core/tasks/store.ts:91:44 <anonymous> -> boolean
gateway/core/tasks/store.ts:116:1 listTasks -> Promise<string>
gateway/core/tasks/store.ts:117:28 <anonymous> -> Promise<any[]>
gateway/core/tasks/store.ts:119:57 <anonymous> -> boolean
gateway/core/tasks/store.ts:121:40 <anonymous> -> boolean
gateway/core/tasks/store.ts:128:1 getTaskById -> Promise<string>
gateway/core/tasks/store.ts:129:28 <anonymous> -> Promise<any>
gateway/core/tasks/store.ts:131:30 <anonymous> -> boolean
gateway/core/tasks/store.ts:134:1 claimNextTask -> Promise<string>
gateway/core/tasks/store.ts:135:28 <anonymous> -> Promise<any>
gateway/core/tasks/store.ts:139:21 <anonymous> -> boolean
gateway/core/tasks/store.ts:153:1 heartbeatTask -> Promise<string>
gateway/core/tasks/store.ts:154:28 <anonymous> -> Promise<void>
gateway/core/tasks/store.ts:156:36 <anonymous> -> boolean
gateway/core/tasks/store.ts:164:1 completeTask -> Promise<string>
gateway/core/tasks/store.ts:165:28 <anonymous> -> Promise<any>
gateway/core/tasks/store.ts:167:36 <anonymous> -> boolean
gateway/core/tasks/store.ts:183:1 failTask -> Promise<string>
gateway/core/tasks/store.ts:184:28 <anonymous> -> Promise<any>
gateway/core/tasks/store.ts:186:36 <anonymous> -> boolean
gateway/core/tasks/store.ts:209:1 cancelTask -> Promise<string>
gateway/core/tasks/store.ts:210:28 <anonymous> -> Promise<any>
gateway/core/tasks/store.ts:212:36 <anonymous> -> boolean
gateway/core/tasks/store.ts:223:1 deleteTask -> Promise<string>
gateway/core/tasks/store.ts:224:28 <anonymous> -> Promise<boolean>
gateway/core/tasks/store.ts:226:42 <anonymous> -> boolean
gateway/core/tasks/store.ts:237:1 resetTaskDbForTest -> Promise<string>
gateway/core/tasks/store.ts:238:28 <anonymous> -> Promise<void>
gateway/core/tools/db_query.ts:5:1 runDbQuery -> Promise<string>
gateway/core/tools/http_request.ts:9:1 runHttpRequest -> Promise<string>
gateway/core/tools/http_request.ts:16:32 <anonymous> -> void
gateway/core/tools/queue_job.ts:12:1 queueJob -> Promise<string>
gateway/create_app.ts:90:1 getOllamaRouteHealth -> Promise<string>
gateway/create_app.ts:93:34 <anonymous> -> void
gateway/create_app.ts:146:5 resolveAgentContext -> Promise<{ agent_id: any; agent_name: any; memory_namespace: any; }>
gateway/create_app.ts:153:5 sendReplyByChannel -> Promise<void>
gateway/create_app.ts:215:39 <anonymous> -> Promise<void>
gateway/create_app.ts:221:40 <anonymous> -> Promise<void>
gateway/create_app.ts:237:56 <anonymous> -> Promise<void>
gateway/create_app.ts:243:33 <anonymous> -> Promise<void>
gateway/create_app.ts:268:5 shutdown -> Promise<void>
gateway/create_app.ts:275:33 <anonymous> -> void
gateway/create_app.ts:276:26 <anonymous> -> void
gateway/create_app.ts:277:24 <anonymous> -> void
gateway/lib/router.ts:24:5 handle -> Promise<string>
gateway/lib/router.ts:35:38 <anonymous> -> void
gateway/lib/router.ts:52:31 <anonymous> -> void
gateway/lib/router.ts:55:24 <anonymous> -> void
gateway/lib/router.ts:64:23 <anonymous> -> void
gateway/routes/agent_control.ts:6:19 <anonymous> -> Promise<void>
gateway/routes/agent_control.ts:19:19 <anonymous> -> Promise<void>
gateway/routes/agents.ts:6:19 <anonymous> -> Promise<void>
gateway/routes/agents.ts:18:19 <anonymous> -> Promise<void>
gateway/routes/agents.ts:37:19 <anonymous> -> Promise<void>
gateway/routes/agents.ts:53:19 <anonymous> -> Promise<void>
gateway/routes/agents.ts:57:40 <anonymous> -> any
gateway/routes/agents.ts:58:25 <anonymous> -> boolean
gateway/routes/agents.ts:59:25 <anonymous> -> any
gateway/routes/agents.ts:60:22 <anonymous> -> { from: any; to: any; mode: any; }
gateway/routes/approvals.ts:6:19 <anonymous> -> Promise<void>
gateway/routes/approvals.ts:25:19 <anonymous> -> Promise<void>
gateway/routes/channels.ts:5:19 <anonymous> -> Promise<void>
gateway/routes/channels.ts:10:19 <anonymous> -> Promise<void>
gateway/routes/command.ts:21:19 <anonymous> -> Promise<void>
gateway/routes/health.ts:6:19 <anonymous> -> Promise<void>
gateway/routes/health.ts:16:19 <anonymous> -> Promise<void>
gateway/routes/health.ts:22:19 <anonymous> -> Promise<void>
gateway/routes/inference.ts:12:19 <anonymous> -> Promise<void>
gateway/routes/ingress_line.ts:15:19 <anonymous> -> Promise<void>
gateway/routes/ingress_telegram.ts:15:19 <anonymous> -> Promise<void>
gateway/routes/memory.ts:13:19 <anonymous> -> Promise<void>
gateway/routes/memory.ts:24:19 <anonymous> -> Promise<void>
gateway/routes/memory.ts:43:19 <anonymous> -> Promise<void>
gateway/routes/memory.ts:60:19 <anonymous> -> Promise<void>
gateway/routes/memory.ts:84:19 <anonymous> -> Promise<void>
gateway/routes/memory.ts:89:19 <anonymous> -> Promise<void>
gateway/routes/memory.ts:97:19 <anonymous> -> Promise<void>
gateway/routes/memory.ts:125:1 listMemoryFiles -> Promise<string>
gateway/routes/memory.ts:136:1 walkMemoryDir -> Promise<string>
gateway/routes/system.ts:8:19 <anonymous> -> Promise<void>
gateway/routes/tasks.ts:8:19 <anonymous> -> Promise<void>
gateway/routes/tasks.ts:24:19 <anonymous> -> Promise<void>
gateway/routes/tasks.ts:39:19 <anonymous> -> Promise<void>
gateway/routes/tasks.ts:50:19 <anonymous> -> Promise<void>
gateway/routes/tasks.ts:61:19 <anonymous> -> Promise<void>
gateway/routes/ui.ts:4:19 <anonymous> -> Promise<void>
gateway/schemas/control_plane.ts:87:56 <anonymous> -> boolean
gateway/server.ts:8:65 <anonymous> -> never
gateway/server.ts:9:64 <anonymous> -> never
gateway/workers/job_runner.ts:7:1 executeTask -> Promise<string>
gateway/workers/job_runner.ts:54:1 runQueuedJobsOnce -> Promise<string>
gateway/workers/job_runner.ts:70:25 <anonymous> -> void
mcp-open-in-explorer/src/index.ts:22:37 <anonymous> -> boolean
mcp-open-in-explorer/src/index.ts:32:1 openInExplorerSelect -> Promise<string>
mcp-open-in-explorer/src/index.ts:33:29 <anonymous> -> void
mcp-open-in-explorer/src/index.ts:40:28 <anonymous> -> void
mcp-open-in-explorer/src/index.ts:50:1 main -> Promise<string>
mcp-open-in-explorer/src/index.ts:62:17 <anonymous> -> boolean
mcp-open-in-explorer/src/index.ts:73:8 <anonymous> -> Promise<{ content: { type: "text"; text: string; }[]; }>
